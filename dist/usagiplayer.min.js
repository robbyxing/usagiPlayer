/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Components/Events.js":
/*!**********************************!*\
  !*** ./src/Components/Events.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _EventEmitter = __webpack_require__(/*! ../Utils/EventEmitter */ \"./src/Utils/EventEmitter.js\");\n\nvar _EventEmitter2 = _interopRequireDefault(_EventEmitter);\n\nvar _Observer = __webpack_require__(/*! ../Utils/Observer */ \"./src/Utils/Observer.js\");\n\nvar _Observer2 = _interopRequireDefault(_Observer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Events = function () {\n    function Events() {\n        _classCallCheck(this, Events);\n\n        this.observable = new _EventEmitter2.default();\n        this.observer = new _Observer2.default('player', this.observable);\n    }\n\n    _createClass(Events, [{\n        key: 'emit',\n        value: function emit(event_name, data) {\n            this.observer.emit(event_name, data);\n        }\n    }, {\n        key: 'on',\n        value: function on(event_name, callback) {\n            this.observer.on(event_name, callback);\n        }\n    }]);\n\n    return Events;\n}();\n\nexports.default = Events;\n\n//# sourceURL=webpack:///./src/Components/Events.js?");

/***/ }),

/***/ "./src/Components/Player.js":
/*!**********************************!*\
  !*** ./src/Components/Player.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Events = __webpack_require__(/*! ./Events */ \"./src/Components/Events.js\");\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Player = function () {\n    function Player(options) {\n        _classCallCheck(this, Player);\n\n        console.log(\"player constructor\");\n        this.options = options;\n        this.events = new _Events2.default();\n        this.createDom();\n    }\n\n    _createClass(Player, [{\n        key: \"createDom\",\n        value: function createDom() {\n            var _this = this;\n\n            var context = this;\n\n            var video = document.getElementById(this.options.id);\n            var df = document.createDocumentFragment();\n\n            var container = this.createEl(\"div\", \"usagi-player\");\n\n            var video_container = this.createEl(\"div\", \"usagi-player-video\");\n            video_container.appendChild(video.cloneNode(true));\n            var danmaku_container = this.createEl(\"div\", \"usagi-player-danmaku-container\");\n            video_container.appendChild(danmaku_container);\n            var info_container = this.createEl(\"div\", \"usagi-player-info-container\");\n            video_container.appendChild(info_container);\n\n            container.appendChild(video_container);\n\n            var controls = this.createEl(\"ul\", \"usagi-player-controls\");\n\n            var play_btn = this.createEl(\"li\", \"usagi-player-play-btn\");\n            play_btn.innerHTML = '<div class=\"icon icon-play\"></div>';\n\n            controls.appendChild(play_btn);\n\n            var current_time = this.createEl(\"li\", \"usagi-player-current-time\");\n            current_time.innerHTML = this.timeConvert(0);\n            controls.appendChild(current_time);\n\n            var progress_bar = this.createEl(\"li\", \"usagi-player-progressbar\");\n\n            var progress_bar_slot = this.createEl(\"div\", \"usagi-player-progressbar-slot\");\n            progress_bar.appendChild(progress_bar_slot);\n\n            var progress_bar_played = this.createEl(\"div\", \"usagi-player-progressbar-played\");\n            progress_bar.appendChild(progress_bar_played);\n\n            var progress_bar_buffered = this.createEl(\"div\", \"usagi-player-progressbar-buffered\");\n            progress_bar.appendChild(progress_bar_buffered);\n\n            controls.appendChild(progress_bar);\n\n            var total_time = this.createEl(\"li\", \"usagi-player-total-time\");\n            total_time.innerHTML = \"--:--:--\";\n            controls.appendChild(total_time);\n\n            var volume_btn = this.createEl(\"li\", \"usagi-player-volume-btn\");\n            volume_btn.innerHTML = '<div class=\"icon icon-volume-high\"></div>';\n            controls.appendChild(volume_btn);\n\n            container.appendChild(controls);\n\n            df.appendChild(container);\n            video.before(df);\n\n            video.parentNode.removeChild(video);\n\n            this.video = document.getElementById(this.options.id);\n\n            var center_play_btn = this.createEl(\"div\", \"icon icon-play-circle center-play-btn\");\n\n            var play_fn = function play_fn() {\n                _this.video.play();\n                //this.video.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n            };\n\n            var pause_fn = function pause_fn() {\n                _this.video.pause();\n            };\n\n            play_btn.addEventListener(\"click\", play_fn);\n\n            this.on(\"canplay\", function () {\n                total_time.innerHTML = _this.timeConvert(parseInt(_this.video.duration));\n\n                //danmaku_container.style.height = video.style.height;\n                console.log(_this.video.height);\n            });\n\n            var progress_timer = void 0;\n\n            this.on(\"play\", function () {\n\n                info_container.style.opacity = 0;\n                try {\n                    info_container.removeChild(center_play_btn);\n                } catch (e) {}\n\n                play_btn.setAttribute(\"class\", \"usagi-player-pause-btn\");\n                play_btn.innerHTML = '<div class=\"icon icon-pause\"></div>';\n                play_btn.removeEventListener(\"click\", play_fn);\n                play_btn.addEventListener(\"click\", pause_fn);\n\n                context.createDanmaku(\"弹幕测试\", \"#fff\");\n\n                progress_timer = setInterval(function () {\n                    var current_time_value = parseInt(context.video.currentTime);\n                    current_time.innerHTML = context.timeConvert(current_time_value);\n                    var cent = current_time_value / parseInt(context.video.duration) * 100;\n                    progress_bar_played.style.width = cent + \"%\";\n                }, 500);\n            });\n\n            this.on(\"pause\", function () {\n\n                info_container.style.opacity = 1;\n                info_container.appendChild(center_play_btn);\n\n                play_btn.setAttribute(\"class\", \"usagi-player-play-btn\");\n                play_btn.innerHTML = '<div class=\"icon icon-play\"></div>';\n                play_btn.removeEventListener(\"click\", pause_fn);\n                play_btn.addEventListener(\"click\", play_fn);\n\n                progress_timer && clearInterval(progress_timer);\n            });\n\n            if (this.options.controller.embed) {\n                container.addEventListener(\"mousemove\", function () {\n                    controls.setAttribute(\"class\", 'usagi-player-controls animated fadeIn');\n                });\n\n                container.addEventListener(\"mouseleave\", function () {\n                    controls.setAttribute(\"class\", 'usagi-player-controls animated fadeOut');\n                });\n            } else {\n                controls.style.opacity = 1;\n                controls.style.bottom = \"-40px\";\n            }\n        }\n    }, {\n        key: \"createDanmaku\",\n        value: function createDanmaku(text, color) {\n            var danmaku = this.createEl(\"div\", \"usagi-player-danmaku\");\n\n            /*\r\n            let ctx = this.danmaku_canvas.getContext(\"2d\");\r\n            ctx.font=\"22px Georgia\";\r\n            ctx.fillStyle = color;\r\n            ctx.fillText(text, 700, 20);\r\n            ctx.current_x = 700;\r\n            ctx.current_y = 0;\r\n            \r\n            console.log(ctx);\r\n            \r\n            let timer = setInterval(function(){\r\n              if(ctx.current_x > 0){\r\n                ctx.current_x -= 10;\r\n                console.log(ctx.current_x);\r\n                ctx.translate(-10,0); \r\n              }else{\r\n                clearInterval(timer);\r\n              }\r\n                \r\n            }, 50);\r\n            */\n        }\n    }, {\n        key: \"createEl\",\n        value: function createEl(tag, class_name) {\n            var temp = document.createElement(tag);\n            temp.className = class_name;\n            return temp;\n        }\n    }, {\n        key: \"timeConvert\",\n        value: function timeConvert(_seconds) {\n            var pad_zero = function pad_zero(num, n) {\n                return (Array(n).join(0) + num).slice(-n);\n            };\n            var hours = parseInt(_seconds / 3600),\n                minutes = parseInt((_seconds - 3600 * hours) / 60),\n                seconds = _seconds - 3600 * hours - minutes * 60;\n            return pad_zero(hours, 2) + \":\" + pad_zero(minutes, 2) + \":\" + pad_zero(seconds, 2);\n        }\n    }, {\n        key: \"on\",\n        value: function on(event_name, callback) {\n            var video_events = [\"abort\", \"canplay\", \"canplaythrough\", \"durationchange\", \"emptied\", \"ended\", \"error\", \"loadeddata\", \"loadedmetadata\", \"loadstart\", \"mozaudioavailable\", \"pause\", \"play\", \"playing\", \"progress\", \"ratechange\", \"seeked\", \"seeking\", \"stalled\", \"suspend\", \"timeupdate\", \"volumechange\", \"waiting\"];\n\n            video_events.indexOf(event_name) > -1 ? this.video.addEventListener(event_name, callback) : this.events.on(event_name, callback);\n        }\n    }, {\n        key: \"init\",\n        value: function init() {}\n    }]);\n\n    return Player;\n}();\n\nexports.default = Player;\n\n//# sourceURL=webpack:///./src/Components/Player.js?");

/***/ }),

/***/ "./src/Utils/EventEmitter.js":
/*!***********************************!*\
  !*** ./src/Utils/EventEmitter.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.listeners = new Map();\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"addListener\",\n    value: function addListener(label, callback) {\n      this.listeners.has(label) || this.listeners.set(label, []);\n      this.listeners.get(label).push(callback);\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(label, callback) {\n      var listeners = this.listeners.get(label);\n      var index = void 0;\n      if (listeners && listeners.length) {\n        index = listeners.reduce(function (i, listener, index) {\n          return isFunction(listener) && listener === callback ? i = index : i;\n        }, -1);\n      }\n      if (index > -1) {\n        listeners.splice(index, 1);\n        this.listeners.set(label, listeners);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(label) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this.listeners.get(label);\n      if (listeners && listeners.length) {\n        listeners.forEach(function (listener) {\n          listener.apply(undefined, args);\n        });\n        return true;\n      }\n\n      return false;\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\n\n//# sourceURL=webpack:///./src/Utils/EventEmitter.js?");

/***/ }),

/***/ "./src/Utils/Observer.js":
/*!*******************************!*\
  !*** ./src/Utils/Observer.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Observer = function () {\n  function Observer(id, subject) {\n    _classCallCheck(this, Observer);\n\n    this.id = id;\n    this.subject = subject;\n  }\n\n  _createClass(Observer, [{\n    key: \"on\",\n    value: function on(label, callback) {\n      this.subject.addListener(label, callback);\n    }\n  }]);\n\n  return Observer;\n}();\n\nexports.default = Observer;\n\n//# sourceURL=webpack:///./src/Utils/Observer.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _Player = __webpack_require__(/*! ./Components/Player */ \"./src/Components/Player.js\");\n\nvar _Player2 = _interopRequireDefault(_Player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconsole.log(\"will u love this tiny video player?\");\n\nwindow.UsagiPlayer = _Player2.default;\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ })

/******/ });